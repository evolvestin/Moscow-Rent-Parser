# Парсер сайтов с арендой квартир
Собственно, скрипт парсера популярных сайтов по аренде квартир по Москве.
1. Парсим сайты [domofond](https://www.domofond.ru), [irr.ru](https://www.irr.ru), 
[cian.ru](https://www.cian.ru), [kvartirant.ru](https://kvartirant.ru), 
[sob.ru](https://sob.ru), [move.ru](https://move.ru).
2. Обрабатываем поступающую инфу с каждого из сайтов.
   > Пришлось естественно под каждый писать отдельный парсер, а потом придумать отдельную форму под которую мы подгоняли данные.
3. Записываем ссылку на подходящее нам объявление в [гугл таблицы](https://docs.google.com/spreadsheets/d/1pGg5n6N8GBXafZ66PdagkgxRtrpjubztAOswMwEClSM/edit?usp=sharing)
4. Формируем пост и собственно, постим в наш [Telegram](https://t.me/RoomyMSK) канал.
   > Занятно что эти сайты почти никак не охраняют номера телефонов.
   > Проблемы были только с domofond.ru, единственный сайт из представленных, кто защищает телефон нормально.
   > Его пришлось обходить эмулятором браузера из библиотеки selenium.

> Также пришлось удалить из обработки avito.ru, потому что там оказалось, мало того, что в коде страницы номер 
> не отображается, а появляется только после нажатия кнопки на странице. Но появляется номер не текстом, а картинкой! 
> Я когда впервые это увидел, охренел конечно знатно. Но оказалось обходится это тоже довольно просто. 
> Нужно лишь заюзать простецкую нейронку по картинке, которую ты скачиваешь с телефоном и вуаля все норм.
>
> `Единственная проблема` оказалась в том, что прежде чем я дописал нормальную рабочую версию, мы выяснили что
> канал в телеграме с арендой квартир __никому__ не нужен. Поэтому я оставил это все дело недописанным и вернусь
> когда-нибудь за хорошим парсером. 

`Эксперимент можно считать неудачным. Но неудача это тоже неплохо! Наверное.`

`Интересный факт` с момента запуска и до последнего апдейта было обработано 202 тысячи объявлений об аренде квартир, 
150 тысяч из которых оказались запощены в канал.

`Последний апдейт` Добавил описание и улучшил секретность. Апдейтов больше не планируется.

`Ну теперь то точно последний апдейт` Пофиксил баги (не все, там в регулярках еще проблема, но не критично),
причесал, обновил e-objects до версии 1.2.0.

12.11.2020

