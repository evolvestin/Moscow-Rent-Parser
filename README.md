# Парсер сайтов с арендой квартир
Собственно, скрипт парсера популярных сайтов по аренде квартир в Москве.
1. Парсим сайты [domofond](https://www.domofond.ru), [irr.ru](https://www.irr.ru), 
[cian.ru](https://www.cian.ru), [kvartirant.ru](https://kvartirant.ru), 
[sob.ru](https://sob.ru), [move.ru](https://move.ru).
2. Обрабатываем поступающую информацию с каждого из сайтов.
   > Пришлось естественно под каждый сайт писать отдельный парсер, а потом придумать 
   > как подогнать всё это под единый шаблон.
3. Записываем ссылку на подходящее нам объявление в 
   [гугл таблицы](https://docs.google.com/spreadsheets/d/1pGg5n6N8GBXafZ66PdagkgxRtrpjubztAOswMwEClSM/edit?usp=sharing)
4. Формируем пост и собственно, постим в наш [Telegram](https://t.me/RoomyMSK) канал.
   > Занятно что эти сайты почти никак не охраняют номера телефонов.
   > Проблемы были только с domofond.ru, единственный сайт из представленных, кто защищает телефон нормально.
   > Его пришлось обходить эмулятором браузера из библиотеки selenium.


## Change Log

`27.05.2021` - Обновлено описание. Скрипт отключён навсегда. Архивация репозитория. 
Гугл таблица отправлена в папку history.

`25.12.2020` - Убрал бота из моего dev-чата, теперь туда попадает только сообщение о запуске. Исправлен README.md.
Бот продолжает бесполезно постить в канал Telegram.

`12.11.2020` - Исправлены баги (не все), причесал, обновлена e-objects до версии 1.2.0.

`05.11.2020` - Добавил описание, и улучшил секретность. Обновлений больше не планировалось.

---
Так же планировалось парсить и avito.ru, но, мало того, что в коде страницы номер не отображается, а появляется 
только после нажатия кнопки на странице. Но появляется номер не текстом, а картинкой!
Я когда впервые это увидел, удивился конечно знатно. Но оказалось обходиться это тоже довольно просто. 
Нужно лишь использовать простецкую нейросеть по картинке, которую ты скачиваешь с телефоном и вуаля все норм.

Единственная проблема оказалась в том, что прежде чем была дописана нормальная рабочая версия, мы выяснили что 
канал в Telegram с арендой квартир __никому__ не нужен. Поэтому я оставил это все дело недописанным. 

`Эксперимент можно считать неудачным. Но неудача это тоже неплохо! Наверное.`

`Интересный факт.` С момента запуска и до момента отключения записано в таблицу 300 тысяч объявлений об аренде квартир, 
222 тысячи из которых, были отправлены в канал.
